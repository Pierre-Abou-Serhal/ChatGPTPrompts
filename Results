<style>
  /* highlight selected new customer row */
  #CustomerDuplicateDetectionDiv tbody tr.row-selected td {
    background-color: #d9edf7 !important; /* light blue */
  }
</style>




function getCustomerDuplicateDetection(newCustomerId, el) {

  // Highlight selected row
  if (el) {
    $('#CustomerDuplicateDetectionDiv tbody tr').removeClass('row-selected');
    $(el).closest('tr').addClass('row-selected');
  }

  if (newCustomerId) {
    try {
      ShowLoader();
      $.ajax({
        type: 'POST',
        url: '/Customer/GetCustomerDuplicateDetection/',
        data: { newCustomerId: newCustomerId },
        dataType: 'html',
        success: function (data) {
          $('#GetCustomerDuplicateDetectionDiv').html(data);

          // Destroy if already initialized, then re-init
          if ($.fn.DataTable.isDataTable('#GetCustomerDuplicateDetectionRows')) {
            $('#GetCustomerDuplicateDetectionRows').DataTable().destroy();
          }

          $('#GetCustomerDuplicateDetectionRows').DataTable({
            scrollX: true,
            autoWidth: false
          });

          HideLoader();
        },
        error: function () {
          HideLoader();
          window.location.href = "@Global.DashboardLink";
        }
      });
    } catch (ex) {
      console.error(ex);
      HideLoader();
    }
  } else {
    alert('New Customer ID not valid!');
  }
}
