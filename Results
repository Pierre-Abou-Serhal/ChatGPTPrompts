This is my parent component:

import {
  Component,
  computed,
  OnDestroy,
  OnInit,
  ViewChild,
} from '@angular/core';
import { ActivatedRoute, Router, RouterModule } from '@angular/router';
import { FileImportService } from '../../../../Services/file-import.service';
import {
  FileImport,
  FileImportContent,
  Status,
} from '../../../../Services/Models/model';
import {
  GetAllStatusesRequest,
  GetFileImportByIdRequest,
  UpdateFileStatusRequest,
  ValidateFileRequest,
} from '../../../../Services/Models/request';
import { v7 as uuidV7 } from 'uuid';
import { AuthService } from '../../../../Services/auth.service';
import { Config } from 'datatables.net';
import { Subject } from 'rxjs';
import { DataTablesModule } from 'angular-datatables';
import { CommonModule } from '@angular/common';
import {DuplicateAccNbr, FileStatus} from '../../../../Services/Models/custom-models';
import { HttpStatusCode } from '@angular/common/http';
import { NgbModal } from '@ng-bootstrap/ng-bootstrap';
import { EditDataComponent } from '../edit-data/edit-data.component';
import { ToastrService } from 'ngx-toastr';
import { DataTableDirective } from 'angular-datatables';
import { CommonService } from '../../../../Services/common.service';
import Swal from 'sweetalert2';
import { LoadingService } from '../../../../Services/loading.service';
import { SharedService } from '../../../../Services/shared.service';
import {DuplicateAccountsModalComponent} from './duplicate-accounts-modal/duplicate-accounts-modal.component';

@Component({
  selector: 'app-file-data-dashboard',
  standalone: true,
  imports: [DataTablesModule, RouterModule, CommonModule],
  templateUrl: './file-data-dashboard.component.html',
  styleUrl: './file-data-dashboard.component.scss',
})
export class FileDataDashboardComponent implements OnInit, OnDestroy {
  fileImportId?: number;
  fileImport?: FileImport;
  fileImportContents: FileImportContent[] = [];
  statuses: Status[] = [];
  productDescriptions: string = '';

  authData = computed(() => this.authService.authData());
  dtOptions: Config = {
    pagingType: 'full_numbers',
    pageLength: 10,
    responsive: true,
    order: [],
    dom: 'Blfrtip',
    buttons: [
      {
        extend: 'excelHtml5',
        text: 'Excel',
        filename: `${new Date().toDateString()}`,
      },
    ],
    columnDefs: [
      {
        targets: [8],
        visible: false,
        searchable: true,
      },
    ],
    drawCallback: () => {
      this.loadingService.hide();
    },
  };

  @ViewChild(DataTableDirective, { static: false }) dtElement:
    | DataTableDirective
    | undefined;

  FileStatus = FileStatus;
  ReceivedFileStatus: number = FileStatus.Received;
  RejectedFileStatus: number = FileStatus.Rejected;
  dtTrigger: Subject<any> = new Subject<any>();

  constructor(
    private route: ActivatedRoute,
    private fileImportService: FileImportService,
    private authService: AuthService,
    private router: Router,
    private modalService: NgbModal,
    private toastr: ToastrService,
    private commonService: CommonService,
    private loadingService: LoadingService,
    private sharedService: SharedService
  ) {}

  ngOnDestroy(): void {
    this.dtTrigger.unsubscribe();
  }

  ngOnInit(): void {
    this.fileImportId = +this.route.snapshot.paramMap.get('fileImportId')!;
    this.getFileImportById(this.fileImportId);
    this.getStatuses();
  }

  updateRowData(index: number, newData: any): void {
    this.dtElement?.dtInstance?.then((dtInstance) => {
      Object.entries(newData).forEach(([key, value]) => {
        dtInstance.cell(index, key).data(value).draw();
      });
    });
  }

  getStatuses(): void {
    const getStatusesRequest: GetAllStatusesRequest = {
      baseReq: {
        correlationId: uuidV7(),
        UserData: this.authData()!,
      },
    };

    this.commonService.GetAllStatuses(getStatusesRequest, true).subscribe({
      next: (response) => {
        if (response.baseResp.statusCode === HttpStatusCode.Ok) {
          this.statuses = response.statuses;
        }
      },
    });
  }

  getFileImportById(id: number) {
    const request: GetFileImportByIdRequest = {
      baseReq: {
        correlationId: uuidV7(),
        UserData: this.authData()!,
      },
      fileImportId: id,
    };

    this.loadingService.show();
    this.fileImportService.GetFileImportById(request).subscribe({
      next: (response) => {
        if (response.baseResp.statusCode === HttpStatusCode.Ok) {
          this.fileImport = response.fileImport;
          this.productDescriptions = this.sharedService.joinProductCodes(
            this.fileImport?.fileProducts!
          );

          this.dtTrigger.next(null);
        }
      },
    });
  }

  openEditDataModal(index: number, id: number) {
    const modalRef = this.modalService.open(EditDataComponent, {
      size: 'lg',
      backdrop: 'static',
    });

    const current: FileImportContent =
      this.fileImport?.fileImportContents?.find((i) => i.id === id)!;
    modalRef.componentInstance.fileImport = this.fileImport;

    modalRef.componentInstance.fileImportContent = {
      id: current.id,
      fileImportId: current.fileImportId,
      altAccNbr: current.altAccNbr,
      accNbr: current.accNbr,
      amount: current.amount,
      statusId: current.statusId,
      validationRejectReason: current.validationRejectReason,
      productCode: current.productCode,
      productDescription: current.productDescription,
      customerName: current.customerName,
      other: current.other,
    };

    modalRef.result.then(
      (updatedRecord: FileImportContent) => {
        this.toastr.success(`Data Updated Successfully`, `Data Updated`, {
          closeButton: true,
          enableHtml: true,
          progressBar: true,
          timeOut: 800,
          easing: 'ease-in',
          easeTime: 200,
        });

        let updateData = {
          1: updatedRecord.accNbr ? updatedRecord.accNbr : '',
          3: updatedRecord.productDescription
            ? updatedRecord.productDescription
            : '',
          4: updatedRecord.customerName ? updatedRecord.customerName : '',
          8: updatedRecord.statusId,
        };

        let found = this.fileImport?.fileImportContents?.find(
          (item) => item.id == updatedRecord.id
        );

        if (found) Object.assign(found, updatedRecord);

        this.updateRowData(index, updateData);
      },
      () => {}
    );
  }

  get getTotalAmount(): number {
    let total: number | undefined = this.fileImport?.fileImportContents?.reduce(
      function (a, b) {
        return a + b.amount;
      },
      0
    );

    return total!;
  }

  validateFile() {

    const [check, reason] = this.customeValidation();

    if (!check) {
      this.toastr.error(reason, 'Invalid Data', {
        closeButton: true,
        enableHtml: true,
        progressBar: false,
        tapToDismiss: false,
        timeOut: 0,
        extendedTimeOut: 0,
        easing: 'ease-in',
        easeTime: 300,
        positionClass: 'toast-center-center',
      });

      return;
    }

    const fileId: number = this.fileImportId!;

    const request: ValidateFileRequest = {
      baseReq: {
        correlationId: uuidV7(),
        UserData: this.authData()!,
      },
      fileId: fileId,
      currencyCode: this.fileImport?.fileCurrencyCode!,
    };

    // Checking for T24 Account duplicates
    const dupes = this.getDuplicatedAccNbrs(this.fileImport?.fileImportContents ?? []);

    if(dupes.length > 0) {

      const modalRef = this.modalService.open(DuplicateAccountsModalComponent, {
        size: 'lg',
        backdrop: 'static',
        centered: true,
        keyboard: false,
      });

      modalRef.componentInstance.duplicates = dupes;

      modalRef.result
        .then((result) => {
          if (result === 'continue') {
            this.validateFileApiCall(request);
          }
        })
        .catch(() => {
          // User clicked No / closed modal -> do nothing
        });
    }
    else {
      this.validateFileApiCall(request);
    }
  }

  private validateFileApiCall(request: ValidateFileRequest) {
    this.fileImportService.ValidateFile(request).subscribe({
      next: (response) => {
        if (response.baseResp.statusCode === HttpStatusCode.Ok) {
          this.toastr
            .success(`File was successfully VALIDATED`, `File validated`, {
              closeButton: true,
              enableHtml: true,
              progressBar: true,
              timeOut: 1000,
              easing: 'ease-in',
              easeTime: 200,
              positionClass: 'toast-center-center',
            })
            .onHidden.subscribe({
            next: () => {
              this.router.navigate(['/file-manager/files-dashboard']);
            },
          });
        }
      },
    });
  }

  applyFilter(event: any) {
    this.dtElement?.dtInstance.then((dtInstance) => {
      dtInstance.column(8).search(event.target.value.trim()).draw();
    });
  }

  customeValidation(): [boolean, string] {
    return [true, ''];
  }

  discardFile() {
    Swal.fire({
      title: 'Are you sure you want to discard file',
      text: '',
      icon: 'warning',
      showCancelButton: true,
      confirmButtonText: 'Yes',
      cancelButtonText: 'No',
      customClass: {
        confirmButton: 'btn btn-success',
        cancelButton: 'btn btn-danger',
      },
    }).then((result) => {
      if (result.isConfirmed) {
        const fileId: number = this.fileImportId!;

        const request: UpdateFileStatusRequest = {
          baseReq: {
            correlationId: uuidV7(),
            UserData: this.authData()!,
          },
          id: fileId,
          statusCode: FileStatus.Discarded.toString(),
        };

        this.fileImportService.UpdateFileStatusById(request).subscribe({
          next: (response) => {
            if (response.baseResp.statusCode === HttpStatusCode.Ok) {
              this.toastr
                .success(`File was successfully DISCARDED`, `File discarded`, {
                  closeButton: true,
                  enableHtml: true,
                  progressBar: true,
                  timeOut: 1000,
                  easing: 'ease-in',
                  easeTime: 200,
                  positionClass: 'toast-center-center',
                })
                .onHidden.subscribe({
                  next: () => {
                    this.router.navigate(['/file-manager/files-dashboard']);
                  },
                });
            }
          },
        });
      }
    });
  }

  private getDuplicatedAccNbrs(items: FileImportContent[]): DuplicateAccNbr[] {
    const counts = new Map<string, number>();

    // First pass: count account numbers
    for (const item of items) {
      const acc = item.accNbr?.trim();
      if (!acc) continue;

      counts.set(acc, (counts.get(acc) ?? 0) + 1);
    }

    // Second pass: return all duplicated rows with amount + other
    const duplicates: DuplicateAccNbr[] = items
      .map((item: FileImportContent): DuplicateAccNbr => ({
        accNbr: item.accNbr?.trim() ?? '',
        amount: item.amount,
        other: item.other,
      }))
      .filter(
        (item): item is DuplicateAccNbr =>
          !!item.accNbr && (counts.get(item.accNbr) ?? 0) > 1
      )
      .sort(
        (a, b) =>
          a.accNbr.localeCompare(b.accNbr) || b.amount - a.amount
      );

    return duplicates;
  }
}


<div class="container-fluid router-content">
  <div class="row">
    <nav class="col">
      <ol class="breadcrumb">
        <li class="breadcrumb-item">
          <a class="text-decoration-none" [routerLink]="['']">home</a>
        </li>
        <li class="breadcrumb-item">
          <a
            class="text-decoration-none"
            [routerLink]="['/file-manager/files-dashboard']"
            >In Progress Files Data Dashboard</a
          >
        </li>
        <li class="breadcrumb-item active">
          {{ fileImport?.institutionDescription }} : {{ fileImport?.name }}
        </li>
      </ol>
    </nav>
  </div>
  <div class="row">
    <div class="col-12">
      <div class="card sgbl-card shadow rounded">
        <div
          class="card-header d-flex justify-content-between align-items-center px-4"
        >
          <h5
            class="card-title mb-0 d-flex flex-column justify-content-between"
          >
            <span>
              Total Records:
              {{ fileImport?.fileImportContents?.length }}
            </span>
            <span class="mt-2">
              Total Amount: {{ getTotalAmount | number : "1.0-20" }}
              {{ fileImport?.fileCurrencyDescription }}</span
            >
            <span class="mt-2">
              Product:
              {{ productDescriptions }}</span
            >
          </h5>

          <div class="mb-3">
            <label class="form-label" for="filter-by-select"> Filter By </label>
            <select
              (change)="applyFilter($event)"
              class="form-select"
              id="filter-by-select"
            >
              <option value=" ">All</option>
              @for(status of statuses; track $index){
              <option
                [value]="status.id"
                [ngStyle]="{ 'background-color': status.color }"
              >
                {{ status.description }}
              </option>
              }
            </select>
          </div>
        </div>
        <div class="card-body">
          <div class="table-responsive with-excel-button">
            <table
              class="table table-bordered"
              datatable
              [dtOptions]="dtOptions"
              [dtTrigger]="dtTrigger"
            >
              <thead>
                <tr>
                  <th class="text-start">Received Account Number</th>
                  <th class="text-start">Proposed Account Number</th>
                  <th class="text-start">Debit Account</th>
                  <th class="text-start">Product</th>
                  <th class="text-start">Account Name</th>
                  <th class="text-start">Other</th>
                  <th class="text-start">Amount</th>
                  <th class="text-start">Validation Result</th>
                  <th class="text-start">Status Description</th>
                  <th class="text-start">Last Modified By</th>
                  <th class="text-start">Last Modified Date</th>
                  <th class="text-start">Actions</th>
                </tr>
              </thead>
              <tbody>
                @for(item of fileImport?.fileImportContents; track $index){
                <tr>
                  <td
                    class="text-start"
                    [ngStyle]="{ 'background-color': item.statusColor }"
                  >
                    {{ item.altAccNbr }}
                  </td>
                  <td
                    class="text-start"
                    [ngStyle]="{ 'background-color': item.statusColor }"
                  >
                    {{ item.accNbr }}
                  </td>
                  <td
                    class="text-start"
                    [ngStyle]="{ 'background-color': item.statusColor }"
                  >
                    {{ item.sourceAccountNumber }}
                  </td>
                  <td
                    class="text-start"
                    [ngStyle]="{ 'background-color': item.statusColor }"
                  >
                    {{ item.productDescription }}
                  </td>
                  <td
                    class="text-start"
                    [ngStyle]="{ 'background-color': item.statusColor }"
                  >
                    {{ item.customerName }}
                  </td>
                  <td
                    class="text-start"
                    [ngStyle]="{ 'background-color': item.statusColor }"
                  >
                    {{ item.other }}
                  </td>
                  <td
                    class="text-start"
                    [ngStyle]="{ 'background-color': item.statusColor }"
                  >
                    {{ item.amount | number : "1.0-20" }}
                  </td>
                  <td
                    class="text-start"
                    [ngStyle]="{ 'background-color': item.statusColor }"
                  >
                    {{ item.validationRejectReason }}
                  </td>
                  <td
                    class="text-start"
                    [ngStyle]="{ 'background-color': item.statusColor }"
                  >
                    {{ item.statusId }}
                  </td>
                  <td
                    class="text-start"
                    [ngStyle]="{ 'background-color': item.statusColor }"
                  >
                    {{ item.lastModifiedBy }}
                  </td>
                  <td
                    class="text-start"
                    [ngStyle]="{ 'background-color': item.statusColor }"
                  >
                    {{ item.lastModifiedDate | date : "dd/MM/yyyy hh:mm a" }}
                  </td>
                  <td
                    class="text-start"
                    [ngStyle]="{ 'background-color': item.statusColor }"
                  >
                    <div class="d-flex justify-content-between table-actions">
                      <a
                        class="btn btn-sm edit-btn mx-1"
                        title="Edit"
                        (click)="openEditDataModal($index, item.id)"
                      >
                        <i class="bi bi-pencil-square"></i>
                      </a>
                    </div>
                  </td>
                </tr>
                }
              </tbody>
            </table>
          </div>
          <div class="d-flex justify-content-end align-items-center mt-3 gap-2">
            @if(fileImport?.statusCode === ReceivedFileStatus.toString() ||
            fileImport?.statusCode === RejectedFileStatus.toString()){
            <button
              type="button"
              class="btn btn-success"
              (click)="validateFile()"
            >
              <i class="bi bi-check2-circle"></i> Validate File
            </button>

            <button
              type="button"
              class="btn btn-warning"
              (click)="discardFile()"
            >
              <i class="bi bi-x-circle"></i> Discard File
            </button>
            }
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


.edit-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background-color: #f8f9fa;
  border: 1px solid #ccc;
  color: #6c757d;
  transition: all 0.3s ease;

  &:hover {
    background-color: #6c757d;
    color: #ffffff;
    border-color: #6c757d;
  }

  i {
    font-size: 16px;
  }
}

.btn-next {
  width: 150px;
}


And this is my duplicate accounts modal:

import { Component, Input } from '@angular/core';
import { CommonModule } from '@angular/common';
import { NgbActiveModal } from '@ng-bootstrap/ng-bootstrap';
import {DuplicateAccNbr} from '../../../../../Services/Models/custom-models';
import {DataTablesModule} from 'angular-datatables';
import {Config} from 'datatables.net';

@Component({
  selector: 'app-duplicate-accounts-modal',
  standalone: true,
  imports: [CommonModule, DataTablesModule],
  templateUrl: './duplicate-accounts-modal.component.html',
})
export class DuplicateAccountsModalComponent {
  @Input() duplicates: DuplicateAccNbr[] = [];

  constructor(public activeModal: NgbActiveModal) {}

  dtOptions: Config = {
    pagingType: 'full_numbers',
    pageLength: 10,
    responsive: true,
    order: [],
    dom: 'Blfrtip',
    buttons: [
      {
        extend: 'excelHtml5',
        text: 'Excel',
        filename: `${new Date().toDateString()}`,
      },
    ],
  };

  dismissModal(): void {
    this.activeModal.dismiss();
  }

  closeModal(): void {
    this.activeModal.close();
  }

  onNo(): void {
    this.activeModal.dismiss('cancel');
  }

  onYesContinue(): void {
    this.activeModal.close('continue');
  }
}


<div class="modal-header">
  <h4 class="modal-title">Duplicate Proposed Account Numbers Found</h4>
  <button type="button" class="btn-close" (click)="onNo()"></button>
</div>

<div class="modal-body">
  <div class="alert alert-warning">
    Duplicate proposed account numbers were found. Do you want to continue?
  </div>

  <div *ngIf="!duplicates || duplicates.length === 0" class="alert alert-info mb-0">
    No duplicate account numbers found.
  </div>

  <div *ngIf="duplicates && duplicates.length > 0" class="table-responsive with-excel-button">
    <table
      datatable
      [dtOptions]="dtOptions"
      class="table table-bordered table-striped mb-0">
      <thead>
      <tr>
        <th class="text-start">Duplicate Account Number</th>
        <th class="text-start">Other</th>
        <th class="text-start">Amount</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of duplicates">
        <td class="text-start">{{ item.accNbr }}</td>
        <td class="text-start">{{ item.other || '-' }}</td>
        <td class="text-start">{{ item.amount | number : '1.0-20' }}</td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="modal-footer">
  <button type="button" class="btn btn-danger" (click)="onNo()">
    No
  </button>

  <button type="button" class="btn btn-success" (click)="onYesContinue()">
    Yes
  </button>
</div>


What I want to achieve is to have an edit button in the duplicate accounts modal that will act the same as the edit button in the parent component
