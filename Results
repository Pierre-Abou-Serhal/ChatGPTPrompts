This is the schema of my tables.

The audit tables contains records for each action taken.
Some actions are indentical so some rows cannot showwhat truelly have been changed.

USE [Alterna.Saldom]
GO
/****** Object:  Table [dbo].[t_File_Import]    Script Date: 12/9/2025 1:29:42 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[t_File_Import](
	[Id] [bigint] IDENTITY(1,1) NOT NULL,
	[FileId] [bigint] NOT NULL,
	[AttachmentId] [int] NOT NULL,
	[StatusCode] [nvarchar](50) NOT NULL,
	[Name] [nvarchar](max) NOT NULL,
	[RejectReason] [nvarchar](max) NULL,
	[ValueDate] [datetime2](0) NULL,
	[PaymentDescription] [nvarchar](35) NULL,
	[TransactionDate] [datetime2](0) NULL,
	[CreatedBy] [nvarchar](250) NOT NULL,
	[CreatedDate] [datetime2](0) NOT NULL,
	[LastModifiedBy] [nvarchar](250) NOT NULL,
	[LastModifiedDate] [datetime2](0) NOT NULL,
 CONSTRAINT [PK_t_File_Import] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
/****** Object:  Table [dbo].[t_File_Import_Audit]    Script Date: 12/9/2025 1:29:42 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[t_File_Import_Audit](
	[Id] [bigint] NOT NULL,
	[FileId] [bigint] NOT NULL,
	[AttachmentId] [int] NOT NULL,
	[StatusCode] [nvarchar](50) NOT NULL,
	[Name] [nvarchar](max) NOT NULL,
	[RejectReason] [nvarchar](max) NULL,
	[ValueDate] [datetime2](0) NULL,
	[PaymentDescription] [nvarchar](35) NULL,
	[TransactionDate] [datetime2](0) NULL,
	[CreatedBy] [nvarchar](250) NOT NULL,
	[CreatedDate] [datetime2](0) NOT NULL,
	[LastModifiedBy] [nvarchar](250) NOT NULL,
	[LastModifiedDate] [datetime2](0) NOT NULL
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
/****** Object:  Table [dbo].[t_File_Import_Content]    Script Date: 12/9/2025 1:29:42 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[t_File_Import_Content](
	[Id] [bigint] IDENTITY(1,1) NOT NULL,
	[FileImportId] [bigint] NOT NULL,
	[AltAccNbr] [nvarchar](255) NOT NULL,
	[AccNbr] [nvarchar](255) NULL,
	[CustomerName] [nvarchar](255) NULL,
	[ProductCode] [nvarchar](30) NULL,
	[Amount] [decimal](20, 4) NOT NULL,
	[Other] [nvarchar](max) NULL,
	[StatusId] [int] NOT NULL,
	[ValidationRejectReason] [nvarchar](max) NULL,
	[CreatedBy] [nvarchar](250) NOT NULL,
	[CreatedDate] [datetime2](0) NOT NULL,
	[LastModifiedBy] [nvarchar](250) NOT NULL,
	[LastModifiedDate] [datetime2](0) NOT NULL,
	[SourceAccountNumber] [nvarchar](19) NOT NULL,
 CONSTRAINT [PK_t_File_Content] PRIMARY KEY CLUSTERED 
(
	[Id] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
/****** Object:  Table [dbo].[t_File_Import_Content_Audit]    Script Date: 12/9/2025 1:29:42 PM ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[t_File_Import_Content_Audit](
	[Id] [bigint] NOT NULL,
	[FileImportId] [bigint] NOT NULL,
	[AltAccNbr] [nvarchar](255) NOT NULL,
	[AccNbr] [nvarchar](255) NULL,
	[CustomerName] [nvarchar](255) NULL,
	[ProductCode] [nvarchar](30) NULL,
	[Amount] [decimal](18, 4) NOT NULL,
	[Other] [nvarchar](max) NULL,
	[StatusId] [int] NOT NULL,
	[ValidationRejectReason] [nvarchar](max) NULL,
	[CreatedBy] [nvarchar](250) NOT NULL,
	[CreatedDate] [datetime2](0) NOT NULL,
	[LastModifiedBy] [nvarchar](250) NOT NULL,
	[LastModifiedDate] [datetime2](0) NOT NULL,
	[SourceAccountNumber] [nvarchar](19) NOT NULL
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
ALTER TABLE [dbo].[t_File_Import] ADD  CONSTRAINT [DF__t_File_Im__Creat__66603565]  DEFAULT ('AlternaSystem') FOR [CreatedBy]
GO
ALTER TABLE [dbo].[t_File_Import] ADD  CONSTRAINT [DF__t_File_Im__Creat__6754599E]  DEFAULT (getdate()) FOR [CreatedDate]
GO
ALTER TABLE [dbo].[t_File_Import] ADD  CONSTRAINT [DF__t_File_Im__LastM__68487DD7]  DEFAULT ('AlternaSystem') FOR [LastModifiedBy]
GO
ALTER TABLE [dbo].[t_File_Import] ADD  CONSTRAINT [DF__t_File_Im__LastM__693CA210]  DEFAULT (getdate()) FOR [LastModifiedDate]
GO
ALTER TABLE [dbo].[t_File_Import_Content] ADD  CONSTRAINT [DF__t_File_Im__Creat__6A30C649]  DEFAULT ('AlternaSystem') FOR [CreatedBy]
GO
ALTER TABLE [dbo].[t_File_Import_Content] ADD  CONSTRAINT [DF__t_File_Im__Creat__6B24EA82]  DEFAULT (getdate()) FOR [CreatedDate]
GO
ALTER TABLE [dbo].[t_File_Import_Content] ADD  CONSTRAINT [DF__t_File_Im__LastM__6C190EBB]  DEFAULT ('AlternaSystem') FOR [LastModifiedBy]
GO
ALTER TABLE [dbo].[t_File_Import_Content] ADD  CONSTRAINT [DF__t_File_Im__LastM__6D0D32F4]  DEFAULT (getdate()) FOR [LastModifiedDate]
GO
ALTER TABLE [dbo].[t_File_Import_Content_Audit] ADD  CONSTRAINT [DF_t_File_Import_Content_Audit_CreatedBy]  DEFAULT (N'AlternaSysUser') FOR [CreatedBy]
GO
ALTER TABLE [dbo].[t_File_Import_Content_Audit] ADD  CONSTRAINT [DF_t_File_Import_Content_Audit_CreatedDate]  DEFAULT (getdate()) FOR [CreatedDate]
GO
ALTER TABLE [dbo].[t_File_Import_Content_Audit] ADD  CONSTRAINT [DF_t_File_Import_Content_Audit_LastModifiedBy]  DEFAULT (N'AlternaSysUser') FOR [LastModifiedBy]
GO
ALTER TABLE [dbo].[t_File_Import_Content_Audit] ADD  CONSTRAINT [DF_t_File_Import_Content_Audit_LastModifiedDate]  DEFAULT (getdate()) FOR [LastModifiedDate]
GO
ALTER TABLE [dbo].[t_File_Import]  WITH CHECK ADD  CONSTRAINT [FK_t_File_Import_t_Attachment] FOREIGN KEY([AttachmentId])
REFERENCES [dbo].[t_Attachment] ([Id])
GO
ALTER TABLE [dbo].[t_File_Import] CHECK CONSTRAINT [FK_t_File_Import_t_Attachment]
GO
ALTER TABLE [dbo].[t_File_Import]  WITH CHECK ADD  CONSTRAINT [FK_t_File_Import_t_File] FOREIGN KEY([FileId])
REFERENCES [dbo].[t_File] ([Id])
GO
ALTER TABLE [dbo].[t_File_Import] CHECK CONSTRAINT [FK_t_File_Import_t_File]
GO
ALTER TABLE [dbo].[t_File_Import_Content]  WITH CHECK ADD  CONSTRAINT [Fk_File_Import_Content_File_Import] FOREIGN KEY([FileImportId])
REFERENCES [dbo].[t_File_Import] ([Id])
GO
ALTER TABLE [dbo].[t_File_Import_Content] CHECK CONSTRAINT [Fk_File_Import_Content_File_Import]
GO
ALTER TABLE [dbo].[t_File_Import_Content]  WITH CHECK ADD  CONSTRAINT [Fk_t_File_Import_Content_Status] FOREIGN KEY([StatusId])
REFERENCES [dbo].[t_File_Import_Content_Status] ([Id])
GO
ALTER TABLE [dbo].[t_File_Import_Content] CHECK CONSTRAINT [Fk_t_File_Import_Content_Status]
GO
