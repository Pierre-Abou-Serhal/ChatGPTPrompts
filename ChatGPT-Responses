this.emailService.GetEmailAttachmentByEmailUniqueId(getEmailAttachmentByEmailUniqueIdRequest).subscribe({
      next: (response: Blob) => {

        const url = window.URL.createObjectURL(response);
        const a = document.createElement('a');
        a.href = url;

        // Provide a default file name (or get it from Content-Disposition header)
        a.download = `${this.getFormattedCurrentDateTime()}-${attachment.name}` || 'attachment';

        a.click();
        window.URL.revokeObjectURL(url); // Clean up the URL

        this.loadingAttachmentActions.delete(attachment.id);
      },
    });
